{"ast":null,"code":"import { takeEvery, call, put } from 'redux-saga/effects';\nimport axios from 'axios';\n\n// Action types\nconst FETCH_BOOKS = 'FETCH_BOOKS';\nconst FETCH_BOOKS_SUCCESS = 'FETCH_BOOKS_SUCCESS';\nconst ADD_BOOK = 'ADD_BOOK';\nconst ADD_BOOK_SUCCESS = 'ADD_BOOK_SUCCESS';\nconst UPDATE_BOOK = 'UPDATE_BOOK';\nconst UPDATE_BOOK_SUCCESS = 'UPDATE_BOOK_SUCCESS';\nconst DELETE_BOOK = 'DELETE_BOOK';\nconst DELETE_BOOK_SUCCESS = 'DELETE_BOOK_SUCCESS';\n\n// Action creators\nexport const fetchBooks = () => ({\n  type: FETCH_BOOKS\n});\nexport const addBook = book => ({\n  type: ADD_BOOK,\n  payload: book\n});\nexport const updateBook = book => ({\n  type: UPDATE_BOOK,\n  payload: book\n});\nexport const deleteBook = bookId => ({\n  type: DELETE_BOOK,\n  payload: bookId\n});\n\n// Sagas\nfunction* fetchBooksSaga() {\n  try {\n    const response = yield call(axios.get, 'http://localhost:3000/books');\n    yield put({\n      type: FETCH_BOOKS_SUCCESS,\n      payload: response.data\n    });\n  } catch (error) {\n    // Handle error\n  }\n}\nfunction* addBookSaga(action) {\n  try {\n    const response = yield call(axios.post, 'http://localhost:3000/books', action.payload);\n    yield put({\n      type: ADD_BOOK_SUCCESS,\n      payload: response.data\n    });\n  } catch (error) {\n    // Handle error\n  }\n}\nfunction* updateBookSaga(action) {\n  try {\n    const response = yield call(axios.put, `http://localhost:3000/books/${action.payload.id}`, action.payload);\n    yield put({\n      type: UPDATE_BOOK_SUCCESS,\n      payload: response.data\n    });\n  } catch (error) {\n    // Handle error\n  }\n}\nfunction* deleteBookSaga(action) {\n  try {\n    yield call(axios.delete, `http://localhost:3000/books/${action.payload}`);\n    yield put({\n      type: DELETE_BOOK_SUCCESS,\n      payload: action.payload\n    });\n  } catch (error) {\n    // Handle error\n  }\n}\n\n// Watcher saga\nfunction* rootSaga() {\n  yield takeEvery(FETCH_BOOKS, fetchBooksSaga);\n  yield takeEvery(ADD_BOOK, addBookSaga);\n  yield takeEvery(UPDATE_BOOK, updateBookSaga);\n  yield takeEvery(DELETE_BOOK, deleteBookSaga);\n}\nexport default rootSaga;","map":{"version":3,"names":["takeEvery","call","put","axios","FETCH_BOOKS","FETCH_BOOKS_SUCCESS","ADD_BOOK","ADD_BOOK_SUCCESS","UPDATE_BOOK","UPDATE_BOOK_SUCCESS","DELETE_BOOK","DELETE_BOOK_SUCCESS","fetchBooks","type","addBook","book","payload","updateBook","deleteBook","bookId","fetchBooksSaga","response","get","data","error","addBookSaga","action","post","updateBookSaga","id","deleteBookSaga","delete","rootSaga"],"sources":["C:/Users/User/Desktop/dden/ReactJS-HW/my-text/src/saga/sagas.js"],"sourcesContent":["import { takeEvery, call, put } from 'redux-saga/effects';\nimport axios from 'axios';\n\n// Action types\nconst FETCH_BOOKS = 'FETCH_BOOKS';\nconst FETCH_BOOKS_SUCCESS = 'FETCH_BOOKS_SUCCESS';\nconst ADD_BOOK = 'ADD_BOOK';\nconst ADD_BOOK_SUCCESS = 'ADD_BOOK_SUCCESS';\nconst UPDATE_BOOK = 'UPDATE_BOOK';\nconst UPDATE_BOOK_SUCCESS = 'UPDATE_BOOK_SUCCESS';\nconst DELETE_BOOK = 'DELETE_BOOK';\nconst DELETE_BOOK_SUCCESS = 'DELETE_BOOK_SUCCESS';\n\n// Action creators\nexport const fetchBooks = () => ({\n  type: FETCH_BOOKS\n});\n\nexport const addBook = (book) => ({\n  type: ADD_BOOK,\n  payload: book\n});\n\nexport const updateBook = (book) => ({\n  type: UPDATE_BOOK,\n  payload: book\n});\n\nexport const deleteBook = (bookId) => ({\n  type: DELETE_BOOK,\n  payload: bookId\n});\n\n// Sagas\nfunction* fetchBooksSaga() {\n  try {\n    const response = yield call(axios.get, 'http://localhost:3000/books');\n    yield put({ type: FETCH_BOOKS_SUCCESS, payload: response.data });\n  } catch (error) {\n    // Handle error\n  }\n}\n\nfunction* addBookSaga(action) {\n  try {\n    const response = yield call(axios.post, 'http://localhost:3000/books', action.payload);\n    yield put({ type: ADD_BOOK_SUCCESS, payload: response.data });\n  } catch (error) {\n    // Handle error\n  }\n}\n\nfunction* updateBookSaga(action) {\n  try {\n    const response = yield call(axios.put, `http://localhost:3000/books/${action.payload.id}`, action.payload);\n    yield put({ type: UPDATE_BOOK_SUCCESS, payload: response.data });\n  } catch (error) {\n    // Handle error\n  }\n}\n\nfunction* deleteBookSaga(action) {\n  try {\n    yield call(axios.delete, `http://localhost:3000/books/${action.payload}`);\n    yield put({ type: DELETE_BOOK_SUCCESS, payload: action.payload });\n  } catch (error) {\n    // Handle error\n  }\n}\n\n// Watcher saga\nfunction* rootSaga() {\n  yield takeEvery(FETCH_BOOKS, fetchBooksSaga);\n  yield takeEvery(ADD_BOOK, addBookSaga);\n  yield takeEvery(UPDATE_BOOK, updateBookSaga);\n  yield takeEvery(DELETE_BOOK, deleteBookSaga);\n}\n\nexport default rootSaga;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}